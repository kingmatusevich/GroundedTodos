{"version":3,"sources":["ground:dictionary/dictionary.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,sC;AACA,kB;;AAEA,qB;;AAEA,yB;AACA,4C;AACA,0B;;AAEA,gB;AACA,E;;AAEA,6B;AACA,kB;AACA,e;AACA,yB;AACA,yB;AACA,8E;AACA,0B;;AAEA,iB;;AAEA,oB;;AAEA,wB;AACA,mC;AACA,6B;AACA,gC;AACA,uB;AACA,2B;AACA,oB;AACA,sB;AACA,iC;AACA,wB;AACA,mB;AACA,G;;AAEA,E;;AAEA,6C;AACA,kB;;AAEA,iC;;AAEA,4B;AACA,6B;AACA,e;AACA,4B;AACA,+B;AACA,6B;AACA,gC;AACA,G;;AAEA,+B;AACA,a;AACA,+B;AACA,G;;AAEA,qB;AACA,E;;AAEA,4C;AACA,kB;AACA,iD;AACA,4B;AACA,gC;AACA,kD;AACA,0C;AACA,4B;AACA,8B;AACA,G;;AAEA,2B;AACA,E;;AAEA,+C;AACA,oC;AACA,W;AACA,yC;AACA,wB;AACA,E;;AAEA,2C;AACA,0B;AACA,yB;AACA,yB;AACA,0B;AACA,uB;AACA,iB;AACA,iB;AACA,qB;AACA,E;;AAEA,+C;AACA,kB;AACA,yC;AACA,2B;AACA,oB;AACA,2B;AACA,8C;AACA,6D;AACA,sC;AACA,qB;AACA,G;AACA,E;;AAEA,kD;AACA,iD;AACA,E;;AAEA,8C;AACA,0B;AACA,E;;AAEA,8C;AACA,4E;AACA,2E;AACA,kB;AACA,4B;AACA,E;;AAEA,+C;AACA,oD;AACA,E;;AAEA,yC;AACA,4B;AACA,E;;AAEA,2C;AACA,mB;AACA,E;;AAEA,4C;AACA,iG;AACA,E","file":"/packages/ground_dictionary.js","sourcesContent":["var _splice = function(array, begin) {\n  var result = [];\n\n  begin = begin || 0;\n\n  // Add the ones we need\n  for (var i = begin; i < array.length; i++)\n    result.push(array[i]);\n\n  return result;\n};\n\nDictionary = function(list) {\n  var self = this;\n  // Dictionary\n  self.lookupString = {};\n  self.lookupNumber = {};\n  self.lookupDate = {}; // Special lookup making sure date lookups are acurate\n  self.lookupBoolean = {};\n\n  self.list = [];\n\n  self.initial = [];\n\n  // If user sets a list\n  if (list instanceof Dictionary) {\n    // Clone the initial list\n    self.initial = list.clone();\n    // We set the clone\n    self.set(list.clone());\n  } else if (list) {\n    // Clone the array\n    self.initial = _splice(list);\n    // Just set the list\n    self.set(list);\n  }\n\n};\n\nDictionary.prototype.lookup = function(key) {\n  var self = this;\n\n  var lookup = self.lookupString;\n\n  if (key instanceof Date) {\n    lookup = self.lookupDate;\n    key = +key;\n  } else if (key === +key) {\n    lookup = self.lookupNumber;\n  } else if (key === !!key) {\n    lookup = self.lookupBoolean;\n  }\n\n  if (arguments.length === 2) {\n    // Setter\n    lookup[key] = arguments[1];\n  }\n\n  return lookup[key];\n};\n\nDictionary.prototype.add = function(value) {\n  var self = this;\n  // Make sure not to add existing values / words\n  if (!self.exists(value)) {\n    // Add value to keyword list\n    // We return the index - note this can be 0 :)\n    var index = this.list.push(value) - 1;\n    // Set the normal lookup\n    this.lookup(value, index);\n  }\n\n  return this.index(value);\n};\n\nDictionary.prototype.addList = function(list) {\n  // Iterate over the list of values\n  if (list)\n    for (var i = 0; i < list.length; i++)\n      this.add(list[i]);\n};\n\nDictionary.prototype.set = function(list) {\n  // Reset the this.lookup\n  this.lookupString = {};\n  this.lookupNumber = {};\n  this.lookupBoolean = {};\n  this.lookupDate = {};\n  this.list = [];\n  // Add the list\n  this.addList(list);\n};\n\nDictionary.prototype.remove = function(value) {\n  var self = this;\n  // Make sure theres something to remove\n  if (self.exists(value)) {\n    var result = [];\n    // copy the this.lookup\n    for (var i = 0; i < this.list.length; i++)\n      if (i !== self.index(value)) result.push(this.list[i]);\n    // Set the new list of this.lookup\n    this.set(result);\n  }\n};\n\nDictionary.prototype.withoutInitial = function() {\n  return _splice(this.list, this.initial.length);\n};\n\nDictionary.prototype.value = function(index) {\n  return this.list[index];\n};\n\nDictionary.prototype.index = function(value) {\n  // We have to use the Date lookup in order to get the correct lookup value\n  // otherwise there are some slight diviation in the result - We want this\n  // 100% accurate\n  return this.lookup(value);\n};\n\nDictionary.prototype.exists = function(value) {\n  return (typeof this.index(value) !== 'undefined');\n};\n\nDictionary.prototype.clone = function() {\n  return _splice(this.list);\n};\n\nDictionary.prototype.toArray = function() {\n  return this.list;\n};\n\nDictionary.prototype.toObject = function() {\n  return _.extend({}, this.lookupString, this.lookupNumber, this.lookupDate, this.lookupBoolean);\n};\n"]}